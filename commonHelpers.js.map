{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nconst imageEl = document.querySelector('.gallery');\n\nexport function imageTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n  <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n      <div class=\"wrap\">\n        <p><b>Likes:</b> </br>${likes}</p>\n        <p><b>Views:</b> </br>${views}</p>\n        <p><b>Coments:</b> </br>${comments}</p>\n        <p><b>Downloads:</b> </br>${downloads}</p>\n      </div>\n    </a>\n  </li>`;\n}\n\nexport function imagesTemplate(arr) {\n  return arr.map(imageTemplate).join('');\n}\n\nexport function renderMarkup(image, arr) {\n  imageEl.insertAdjacentHTML('beforeend', imagesTemplate(arr));\n}\n\nexport function refreshLightBox() {\n  lightbox.refresh();\n}","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '42803538-255c2e80da4c06c2048b9f703';\n\nexport function getPhotos(q) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    const url = `${BASE_URL}/?${params}`;\n\n    return fetch(url).then(res => {\n        if (!res.ok) {\n            throw new Error(res.status);\n        }\n        return res.json();\n    });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { renderMarkup, refreshLightBox } from './js/render-functions';\nimport { getPhotos } from './js/pixabay-api';\n\nconst formElem = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst imageEl = document.querySelector('.gallery');\n\nformElem.addEventListener('submit', e => {\n    e.preventDefault();\n    imageEl.innerHTML = '';\n\n    const userSearch = e.target.elements.search.value.trim();\n    if (userSearch === '') {\n        iziToast.warning({\n            titleColor: '#fff',\n            messageColor: '#fff',\n            backgroundColor: '#ffa000',\n            message: 'Please enter a search query',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    showLoader();\n\n    getPhotos(userSearch)\n        .then(data => {\n            if (data.hits.length === 0) {\n                return iziToast.error({\n                    title: 'Error',\n                    titleColor: '#fff',\n                    messageColor: '#fff',\n                    backgroundColor: '#ef4040',\n                    message:\n                        'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n\n            }\n            renderMarkup(imageEl, data.hits);\n            refreshLightBox();\n        })\n        .catch(error => {\n            console.log(error);\n        })\n        .finally(() => {\n            hideLoader();\n        });\n\n    e.target.reset();\n});\n\nfunction showLoader() {\n    if (loader) {\n        loader.style.display = 'block';\n    }\n}\n\n// function hideLoader() {\n//     if (loader) {\n//         loader.style.display = 'none';\n//     }\n// }\nfunction hideLoader() {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        loader.style.display = 'none';\n    }\n}\n\n\ndocument.addEventListener('DOMContentLoaded', hideLoader);"],"names":["lightbox","SimpleLightbox","imageEl","imageTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","arr","renderMarkup","image","refreshLightBox","BASE_URL","API_KEY","getPhotos","q","params","url","res","formElem","loader","e","userSearch","iziToast","showLoader","data","error","hideLoader"],"mappings":"6vBAIO,MAAMA,EAAW,IAAIC,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,GAChB,CAAC,EACKC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAc,CAC5B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,oCAE2BL,CAAa;AAAA,wCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA,gCAElCC,CAAK;AAAA,gCACLC,CAAK;AAAA,kCACHC,CAAQ;AAAA,oCACNC,CAAS;AAAA;AAAA;AAAA,QAI7C,CAEO,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIT,CAAa,EAAE,KAAK,EAAE,CACvC,CAEO,SAASU,EAAaC,EAAOF,EAAK,CACvCV,EAAQ,mBAAmB,YAAaS,EAAeC,CAAG,CAAC,CAC7D,CAEO,SAASG,GAAkB,CAChCf,EAAS,QAAO,CAClB,CC3CA,MAAMgB,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAUC,EAAG,CACzB,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAAE,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKE,EAAM,GAAGL,CAAQ,KAAKI,CAAM,GAElC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC1B,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACnB,CAAK,CACL,CCXA,MAAMC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAS,SAAS,cAAc,SAAS,EACzCtB,EAAU,SAAS,cAAc,UAAU,EAEjDqB,EAAS,iBAAiB,SAAUE,GAAK,CACrCA,EAAE,eAAc,EAChBvB,EAAQ,UAAY,GAEpB,MAAMwB,EAAaD,EAAE,OAAO,SAAS,OAAO,MAAM,OAClD,GAAIC,IAAe,GAAI,CACnBC,EAAS,QAAQ,CACb,WAAY,OACZ,aAAc,OACd,gBAAiB,UACjB,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDC,IAEAV,EAAUQ,CAAU,EACf,KAAKG,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrB,OAAOF,EAAS,MAAM,CAClB,MAAO,QACP,WAAY,OACZ,aAAc,OACd,gBAAiB,UACjB,QACI,2EACJ,SAAU,UAC9B,CAAiB,EAGLd,EAAaX,EAAS2B,EAAK,IAAI,EAC/Bd,GACZ,CAAS,EACA,MAAMe,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAS,EACA,QAAQ,IAAM,CACXC,GACZ,CAAS,EAELN,EAAE,OAAO,OACb,CAAC,EAED,SAASG,GAAa,CACdJ,IACAA,EAAO,MAAM,QAAU,QAE/B,CAOA,SAASO,GAAa,CAClB,MAAMP,EAAS,SAAS,cAAc,SAAS,EAC3CA,IACAA,EAAO,MAAM,QAAU,OAE/B,CAGA,SAAS,iBAAiB,mBAAoBO,CAAU"}